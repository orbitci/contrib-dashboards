{"title":"Workflow Overview - v0.1 - Orbit CI Sample Dashboard","description":"[[suggested_dashboards]]","widgets":[{"id":8436639582373338,"definition":{"title":"Workflows","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":1766249771079884,"definition":{"title":"Workflow runs","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"alias":"count","formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":0,"width":6,"height":2}},{"id":2656346845420964,"definition":{"title":"Workflow overall success rate","title_size":"16","title_align":"left","time":{},"type":"query_value","requests":[{"formulas":[{"formula":"100 - (query1 / query2 * 100)","number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}}}],"queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"@_trace_root:1 $repository"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"scalar","conditional_formats":[{"comparator":">","value":80,"palette":"white_on_green"},{"comparator":"<=","value":80,"palette":"white_on_red"}]}],"autoscale":true,"text_align":"center","precision":2,"timeseries_background":{"type":"area","yaxis":{"include_zero":false}}},"layout":{"x":6,"y":0,"width":6,"height":2}},{"id":49601723926876,"definition":{"title":"Workflow duration","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"avg","order":"desc","metric":"@duration"}}],"compute":{"aggregation":"avg","metric":"@duration","interval":600000},"storage":"hot"}],"formulas":[{"alias":"duration","formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":6,"height":2}},{"id":5590598861738498,"definition":{"title":"Workflow duration distribution","title_size":"16","title_align":"left","show_legend":true,"time":{},"type":"distribution","xaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"yaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.run_id","limit":1000,"sort":{"aggregation":"avg","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"avg","metric":"@duration","interval":600000},"storage":"hot"}],"formulas":[{"formula":"query1"}]}]},"layout":{"x":6,"y":2,"width":6,"height":2}},{"id":1554995189129471,"definition":{"title":"Top retried workflows","title_size":"16","title_align":"left","time":{},"type":"toplist","requests":[{"queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"cardinality","order":"desc","metric":"@orb.workflow.run_attempt"},"should_exclude_missing":true},{"facet":"@orb.workflow.run_id","limit":10,"sort":{"aggregation":"cardinality","order":"desc","metric":"@orb.workflow.run_attempt"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@orb.workflow.run_attempt","interval":600000},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":100,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"display":{"type":"stacked","legend":"automatic"},"palette":"orange"}},"layout":{"x":0,"y":4,"width":6,"height":2}},{"id":5756971297146256,"definition":{"title":"Workflow duration change","title_size":"16","title_align":"left","time":{},"type":"change","requests":[{"increase_good":false,"order_by":"change","change_type":"absolute","order_dir":"desc","response_format":"scalar","formulas":[{"formula":"hour_before(query1)"},{"formula":"query1"}],"queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"avg","order":"desc","metric":"@duration"}}],"compute":{"aggregation":"avg","metric":"@duration","interval":600000},"storage":"hot"}]}]},"layout":{"x":6,"y":4,"width":6,"height":2}},{"id":3043895039686610,"definition":{"title":"Top slowest workflows","title_size":"16","title_align":"left","time":{},"type":"query_table","requests":[{"queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:ok"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"pc95","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:ok"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"pc95","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"median","metric":"@duration"},"storage":"hot"},{"name":"query3","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:ok"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"pc95","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"pc95","metric":"@duration"},"storage":"hot"}],"response_format":"scalar","sort":{"count":30,"order_by":[{"type":"formula","index":2,"order":"desc"}]},"formulas":[{"cell_display_mode":"bar","formula":"query1"},{"cell_display_mode":"bar","formula":"query2"},{"cell_display_mode":"bar","formula":"query3"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":6,"width":12,"height":4}},{"id":5655237407608053,"definition":{"title":"Queue time distribution","title_size":"16","title_align":"left","show_legend":true,"time":{},"type":"distribution","xaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"yaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"requests":[{"request_type":"histogram","query":{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"avg","metric":"@duration"},"storage":"hot"}}]},"layout":{"x":0,"y":10,"width":6,"height":2}},{"id":570570452469407,"definition":{"title":"Accumulated queue time per workflow","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"}}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"orange","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","include_zero":true,"min":"auto","max":"auto"}},"layout":{"x":6,"y":10,"width":6,"height":2}},{"id":8631697575886602,"definition":{"title":"Top workflows by queue time","title_size":"16","title_align":"left","time":{},"type":"query_table","requests":[{"queries":[{"name":"query2","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"median","metric":"@duration"},"storage":"hot"},{"name":"query3","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"pc95","metric":"@duration"},"storage":"hot"},{"name":"query4","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"response_format":"scalar","sort":{"count":30,"order_by":[{"type":"formula","index":2,"order":"desc"}]},"formulas":[{"cell_display_mode":"bar","alias":"median","formula":"query2"},{"cell_display_mode":"bar","alias":"p95","formula":"query3"},{"cell_display_mode":"bar","alias":"sum","formula":"query4"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":12,"width":12,"height":3}},{"id":6450331612081103,"definition":{"title":"Workflow failure rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"}}],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:ok"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"}}],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"alias":"Failure Rate","formula":"query1 / (query2 + query1) * 100"}],"style":{"palette":"red","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":15,"width":4,"height":2}},{"id":2612903148040192,"definition":{"title":"Failed workflows","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"formula":"query1"}],"style":{"palette":"red","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":4,"y":15,"width":4,"height":2}},{"id":1902248497664365,"definition":{"title":"Failed workflows accumulated durations","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"formulas":[{"formula":"query1"}],"style":{"palette":"red","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"area"}]},"layout":{"x":8,"y":15,"width":4,"height":2}},{"id":1495269109547288,"definition":{"title":"Top failed workflows","title_size":"16","title_align":"left","time":{},"type":"query_table","requests":[{"queries":[{"name":"query1","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"count","order":"desc"},"should_exclude_missing":true}],"compute":{"aggregation":"median","metric":"@duration"},"storage":"hot"},{"name":"query3","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"count","order":"desc"},"should_exclude_missing":true}],"compute":{"aggregation":"pc95","metric":"@duration"},"storage":"hot"},{"name":"query4","data_source":"spans","search":{"query":"@_trace_root:1 $repository status:error"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.name","limit":10,"sort":{"aggregation":"count","order":"desc"},"should_exclude_missing":true}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"response_format":"scalar","sort":{"count":40,"order_by":[{"type":"formula","index":0,"order":"desc"}]},"formulas":[{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"count","formula":"query1"},{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"median","formula":"query2"},{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"p95","formula":"query3"},{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"sum","formula":"query4"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":17,"width":12,"height":3}}]},"layout":{"x":0,"y":0,"width":12,"height":21}},{"id":5596584561297351,"definition":{"title":"Jobs","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":4384458737398980,"definition":{"title":"Job runs","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"alias":"count","formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":0,"width":6,"height":2}},{"id":3507694194316503,"definition":{"title":"Job overall success rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"100 - (query1 / query2 * 100)"}],"queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"$repository @orb.span_type:job"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"scalar","conditional_formats":[{"comparator":">","value":80,"palette":"white_on_green"},{"comparator":"<=","value":80,"palette":"white_on_red"}]}],"autoscale":true,"text_align":"center","precision":2,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":6,"y":0,"width":6,"height":2}},{"id":1359644079559592,"definition":{"title":"Job duration","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"avg","order":"desc","metric":"@duration"}}],"compute":{"aggregation":"avg","metric":"@duration","interval":600000},"storage":"hot"}],"formulas":[{"alias":"duration","formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":6,"height":2}},{"id":70275617686778,"definition":{"title":"Job duration distribution","title_size":"16","title_align":"left","show_legend":true,"type":"distribution","xaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"yaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.workflow.run_id","limit":1000,"sort":{"aggregation":"avg","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"avg","metric":"@duration","interval":600000},"storage":"hot"}],"formulas":[{"formula":"query1"}]}]},"layout":{"x":6,"y":2,"width":6,"height":2}},{"id":8165569070360754,"definition":{"title":"Top retried jobs","title_size":"16","title_align":"left","type":"toplist","requests":[{"queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"cardinality","order":"desc","metric":"@orb.workflow.run_attempt"},"should_exclude_missing":true},{"facet":"@orb.workflow.run_id","limit":10,"sort":{"aggregation":"cardinality","order":"desc","metric":"@orb.workflow.run_attempt"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@orb.workflow.run_attempt","interval":600000},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":100,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"display":{"type":"stacked","legend":"automatic"},"palette":"orange"}},"layout":{"x":0,"y":4,"width":6,"height":2}},{"id":7431632624866155,"definition":{"title":"Job duration change","title_size":"16","title_align":"left","time":{},"type":"change","requests":[{"increase_good":false,"order_by":"change","change_type":"absolute","order_dir":"desc","response_format":"scalar","formulas":[{"formula":"hour_before(query1)"},{"formula":"query1"}],"queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"avg","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"avg","metric":"@duration","interval":600000},"storage":"hot"}]}]},"layout":{"x":6,"y":4,"width":6,"height":2}},{"id":4056311299407542,"definition":{"title":"Top slowest jobs","title_size":"16","title_align":"left","time":{},"type":"query_table","requests":[{"queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository status:ok @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"pc95","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"$repository status:ok @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"pc95","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"median","metric":"@duration"},"storage":"hot"},{"name":"query3","data_source":"spans","search":{"query":"$repository status:ok @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"pc95","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"pc95","metric":"@duration"},"storage":"hot"}],"response_format":"scalar","sort":{"count":30,"order_by":[{"type":"formula","index":2,"order":"desc"}]},"formulas":[{"cell_display_mode":"bar","formula":"query1"},{"cell_display_mode":"bar","formula":"query2"},{"cell_display_mode":"bar","formula":"query3"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":6,"width":12,"height":4}},{"id":5426753700056493,"definition":{"title":"Job queue time distribution","title_size":"16","title_align":"left","show_legend":true,"time":{},"type":"distribution","xaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"yaxis":{"scale":"linear","min":"auto","max":"auto","include_zero":true},"requests":[{"request_type":"histogram","query":{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued @orb.job.name:*"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"avg","metric":"@duration"},"storage":"hot"}}]},"layout":{"x":0,"y":10,"width":6,"height":2}},{"id":6100556800430652,"definition":{"title":"Accumulated queue time per job","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"orange","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","include_zero":true,"min":"auto","max":"auto"}},"layout":{"x":6,"y":10,"width":6,"height":2}},{"id":8107201546486582,"definition":{"title":"Top jobs by queue time","title_size":"16","title_align":"left","time":{},"type":"query_table","requests":[{"queries":[{"name":"query2","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"median","metric":"@duration"},"storage":"hot"},{"name":"query3","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"pc95","metric":"@duration"},"storage":"hot"},{"name":"query4","data_source":"spans","search":{"query":"$repository @orb.span_type:job-metric resource_name:queued"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"response_format":"scalar","sort":{"count":30,"order_by":[{"type":"formula","index":2,"order":"desc"}]},"formulas":[{"cell_display_mode":"bar","alias":"median","formula":"query2"},{"cell_display_mode":"bar","alias":"p95","formula":"query3"},{"cell_display_mode":"bar","alias":"sum","formula":"query4"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":12,"width":12,"height":3}},{"id":5428076109604173,"definition":{"title":"Job failure rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"$repository status:ok @orb.span_type:job"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"alias":"Failure Rate","formula":"query1 / (query2 + query1) * 100"}],"style":{"palette":"red","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":15,"width":4,"height":2}},{"id":6607507375621871,"definition":{"title":"Failed jobs","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"formula":"query1"}],"style":{"palette":"red","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":4,"y":15,"width":4,"height":2}},{"id":6320346710655096,"definition":{"title":"Failed jobs accumulated durations","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"sum","order":"desc","metric":"@duration"},"should_exclude_missing":true}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"formulas":[{"formula":"query1"}],"style":{"palette":"red","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"area"}]},"layout":{"x":8,"y":15,"width":4,"height":2}},{"id":1891951606180146,"definition":{"title":"Top failed jobs","title_size":"16","title_align":"left","time":{},"type":"query_table","requests":[{"queries":[{"name":"query1","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query2","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"count","order":"desc"},"should_exclude_missing":true}],"compute":{"aggregation":"median","metric":"@duration"},"storage":"hot"},{"name":"query3","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"count","order":"desc"},"should_exclude_missing":true}],"compute":{"aggregation":"pc95","metric":"@duration"},"storage":"hot"},{"name":"query4","data_source":"spans","search":{"query":"$repository status:error @orb.span_type:job"},"indexes":["*"],"group_by":[{"facet":"@orb.job.name","limit":10,"sort":{"aggregation":"count","order":"desc"},"should_exclude_missing":true}],"compute":{"aggregation":"sum","metric":"@duration"},"storage":"hot"}],"response_format":"scalar","sort":{"count":40,"order_by":[{"type":"formula","index":0,"order":"desc"}]},"formulas":[{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"count","formula":"query1"},{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"median","formula":"query2"},{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"p95","formula":"query3"},{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"cell_display_mode":"bar","alias":"sum","formula":"query4"}]}],"has_search_bar":"auto"},"layout":{"x":0,"y":17,"width":12,"height":2}}]},"layout":{"x":0,"y":21,"width":12,"height":20}}],"template_variables":[{"name":"repository","prefix":"@orb.git.repository","available_values":["orbitci/orb-demo-venusian-delays"],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}
